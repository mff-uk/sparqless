<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><link href="https://yawnston.github.io/sparql2graphql/postprocessing/" rel="canonical"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<title>Postprocessing - SPARQL2GraphQL</title>
<link href="../css/theme.css" rel="stylesheet"/>
<link href="../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Postprocessing";
        var mkdocs_page_input_path = "postprocessing.md";
        var mkdocs_page_url = "/sparql2graphql/postprocessing/";
      </script>
<script defer="" src="../js/jquery-3.6.0.min.js"></script>
<!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link href="../pdf/documentation.pdf" rel="alternate" title="PDF" type="application/pdf"/></head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href=".."> SPARQL2GraphQL
        </a>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="..">Home</a>
</li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/">Usage</a>
</li>
</ul>
<p class="caption"><span class="caption-text">How it works</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../observation/">Observation</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../parsing/">Parsing</a>
</li>
<li class="toctree-l1 current"><a class="reference internal current" href="./">Postprocessing</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../schema/">Schema Creation</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../querying/">Querying</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hot_reloading/">Hot Reloading</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/">Development</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../editing_documentation/">Editing documentation</a>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="..">SPARQL2GraphQL</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a alt="Docs" class="icon icon-home" href=".."></a> »</li>
<li>How it works »</li><li>Postprocessing</li>
<li class="wy-breadcrumbs-aside">
<a class="icon icon-github" href="https://github.com/yawnston/sparql2graphql/edit/master/docs/postprocessing.md"> Edit on GitHub</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="postprocessing">Postprocessing</h1>
<p>The postprocessing phase occurs after the model
(i.e. a set of descriptors) has been built based on
observations of the SPARQL endpoint, but before the GraphQL schema
is built.</p>
<p>It allows easy additions of various postprocessing activities on the model,
like modifying entities in ways which are not connected to model parsing.</p>
<p>An example of this is naming - simplified names are used for all named
entities to promote usability of the generated GraphQL endpoint.
Since the names are calculated from IRIs, this logic is decoupled from parsing,
and it can be easily modified or extended. You can even easily add your own
implementation as a new postprocessing hook, and switch it with the default
implementation as needed.</p>
<h2 id="hooks">Hooks</h2>
<p>Postprocessing hooks are functions which are assignable to the <code>PostprocessingHook</code> interface:</p>
<pre><code class="language-ts">export type PostprocessingHook&lt;TDescriptor extends EntityDescriptor&gt; = (
    descriptors: TDescriptor[],
) =&gt; void;
</code></pre>
<p>In other words, it's a function which takes a single parameter - the descriptors of a particular
type, and it returns nothing. For example, <code>PostprocessingHook&lt;ClassDescriptor&gt;</code> would
be run with the list of all <code>ClassDescriptor</code>s in the model. You can specify more generic
hook constraints, for example using <code>NamedEntityDescriptor</code> would run your hook
against all descriptors which have a display name property.</p>
<p>The contents of a hook will usually do one or more of the following things:</p>
<ul>
<li>Modify the given descriptors in some way</li>
<li>Run some side effects which depend on the descriptor data</li>
<li>Log something about the descriptors</li>
</ul>
<p>You can add your hooks in the <code>src/postprocessing/hooks</code> directory, preferably
putting one hook per each code file.</p>
<p>Including your hook in the code is then as easy as editing <code>src/postprocessing/registered_hooks.ts</code>,
and registering your hook in the <code>getRegisteredPostprocessingHooks()</code> function. And that's it!
Your hook will now automatically be run the next time you run the app.</p>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../parsing/" title="Parsing"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../schema/" title="Schema Creation">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span>
<a class="fa fa-github" href="https://github.com/yawnston/sparql2graphql" style="color: #fcfcfc"> GitHub</a>
</span>
<span><a href="../parsing/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../schema/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script>var base_url = '..';</script>
<script defer="" src="../js/theme_extra.js"></script>
<script defer="" src="../js/theme.js"></script>
<script defer="">
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>
</body>
</html>
