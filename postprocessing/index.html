<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://yawnston.github.io/sparql2graphql/postprocessing/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Postprocessing - SPARQL2GraphQL</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Postprocessing";
        var mkdocs_page_input_path = "postprocessing.md";
        var mkdocs_page_url = "/sparql2graphql/postprocessing/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> SPARQL2GraphQL
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../usage/">Usage</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">How it works</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Postprocessing</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#hooks">Hooks</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/">Development</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">SPARQL2GraphQL</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>How it works &raquo;</li><li>Postprocessing</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/yawnston/sparql2graphql/edit/master/docs/postprocessing.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="postprocessing">Postprocessing</h1>
<p>The postprocessing phase occurs after the model has been built based on
observations of the SPARQL endpoint, but before the GraphQL schema
is built.</p>
<p>It allows easy additions of various postprocessing activities on the model,
like modifying entities in ways which are not connected to model parsing.</p>
<p>An example of this is naming - simplified names are used for all named
entities to promote usability of the generated GraphQL endpoint.
Since the names are calculated from IRIs, this logic is decoupled from parsing,
and it can be easily modified or extended. You can even easily add your own
implementation as a new postprocessing hook, and switch it with the default
implementation as needed.</p>
<h2 id="hooks">Hooks</h2>
<p>Postprocessing hooks are functions which are assignable to the <code>PostprocessingHook</code> interface:</p>
<pre><code class="language-ts">export type PostprocessingHook&lt;TDescriptor extends EntityDescriptor&gt; = (
    descriptors: TDescriptor[],
) =&gt; void;
</code></pre>
<p>In other words, it's a function which takes a single parameter - the descriptors of a particular
type, and it returns nothing. For example, <code>PostprocessingHook&lt;ClassDescriptor&gt;</code> would
be run with the list of all <code>ClassDescriptor</code>s in the model. You can specify more generic
hook constraints, for example using <code>NamedEntityDescriptor</code> would run your hook
against all descriptors which have a display name property.</p>
<p>The contents of a hook will usually do one or more of the following things:</p>
<ul>
<li>Modify the given descriptors in some way</li>
<li>Run some side effects which depend on the descriptor data</li>
<li>Log something about the descriptors</li>
</ul>
<p>You can add your hooks in the <code>src/postprocessing/hooks</code> directory, preferably
putting one hook per each code file.</p>
<p>Including your hook in the code is then as easy as editing <code>src/postprocessing/registered_hooks.ts</code>,
and registering your hook in the <code>getRegisteredPostprocessingHooks()</code> function. And that's it!
Your hook will now automatically be run the next time you run the app.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../overview/" class="btn btn-neutral float-left" title="Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../development/" class="btn btn-neutral float-right" title="Development">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/yawnston/sparql2graphql" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../overview/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../development/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
