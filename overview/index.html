<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><link href="https://mff-uk.github.io/sparqless/overview/" rel="canonical"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<title>Overview - SPARQLess</title>
<link href="../css/theme.css" rel="stylesheet"/>
<link href="../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Overview";
        var mkdocs_page_input_path = "overview.md";
        var mkdocs_page_url = "/sparqless/overview/";
      </script>
<script defer="" src="../js/jquery-3.6.0.min.js"></script>
<!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link href="../pdf/documentation.pdf" rel="alternate" title="PDF" type="application/pdf"/></head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href=".."> SPARQLess
        </a>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="..">Home</a>
</li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/">Usage</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
</li>
</ul>
<p class="caption"><span class="caption-text">How it works</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal current" href="./">Overview</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../observation/">Observation</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../model_parsing/">Parsing</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../postprocessing/">Postprocessing</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../schema/">Schema Creation</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../querying/">Querying</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../model_checkpointing/">Model Checkpointing</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hot_reloading/">Hot Reloading</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/">Development</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../editing_documentation/">Editing documentation</a>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="..">SPARQLess</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a alt="Docs" class="icon icon-home" href=".."></a> »</li>
<li>How it works »</li><li>Overview</li>
<li class="wy-breadcrumbs-aside">
<a class="icon icon-github" href="https://github.com/mff-uk/sparqless/edit/master/docs/overview.md"> Edit on GitHub</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="overview-of-how-it-all-works">Overview of how it all works</h1>
<p>This page will explain the process used by SPARQLess when creating
a GraphQL endpoint from the SPARQL endpoint.</p>
<h2 id="bootstrapping-flow">Bootstrapping flow</h2>
<p>First of all, the user should configure the application. The most basic configuration step
is to configure the SPARQL endpoint to observe. You can read more about
configuration <a href="../configuration/">here</a>.</p>
<p>The bootstrapping phase of SPARQLess is divided into four distinct phases:</p>
<ol>
<li><a href="../observation/"><strong>Observation</strong></a></li>
<li><a href="../model_parsing/"><strong>Model Parsing</strong></a></li>
<li><a href="../postprocessing/"><strong>Postprocessing</strong></a></li>
<li><a href="../schema/"><strong>Schema Creation</strong></a></li>
</ol>
<p>The <a href="../observation/">observation</a> phase uses SPARQL queries
to extract some information about the schema of the data
in the endpoint. There are many kinds of observations,
but the most basic ones are along the lines of
<code>X is a class with N instances</code> or <code>Y is a property of class X</code>.
These observations are in the form of RDF data conforming
to an ontology defined by SPARQLess. This phase
can take up to tens of minutes to execute if the SPARQL
endpoint contains a large amount of data.</p>
<p>After the observations are collected, the
<a href="../model_parsing/">model parsing</a> phase converts these
observations into a set of JavaScript objects describing the data
schema. These objects are referred to as <strong>descriptors</strong>,
since they <em>describe</em> the data model.</p>
<p>The <a href="../postprocessing/">postprocessing</a> phase is meant
to execute functions called <strong>postprocessing hooks</strong>
on descriptors (parts of the model), after the whole
model has been built. An example of a postprocessing
is giving each property and class in the model
a short human-readable name, which it does not necessarily
have in the original RDF representation.</p>
<p>The <a href="../schema/">schema creation</a> phase takes the model and
its descriptors, and converts it into a GraphQL schema.</p>
<p>After all of these phases are performed, a GraphQL endpoint
is started using the generated schema (using
<a href="https://www.apollographql.com/docs/apollo-server/">Apollo Server</a>).
The whole flow we just described looks like this:</p>
<p><img alt="Observation sequence diagram" src="../img/observation_diagram.png"/></p>
<p>As the diagram shows, at the end of the setup, there is a fully functional
GraphQL endpoint active, which the user is free to explore and query.
Visiting the endpoint URL in the browser will redirect the user
to a playground, which provides helpful tools for exploring
and querying.</p>
<h2 id="querying-flow">Querying flow</h2>
<p>SPARQLess utilizes a query translation approach, whereby incoming
GraphQL queries are translated into SPARQL queries, executed on the
SPARQL endpoint, and their results are aggregated into a JSON
response returned by the GraphQL endpoint.</p>
<p>GraphQL querying is based on the concept of
<a href="https://graphql.org/learn/execution/">resolvers</a>, which are functions,
each of which is able to return a single requested property.
If the following GraphQL query is sent to the GraphQL endpoint:</p>
<pre><code class="language-graphql">book {
    author {
        name
    }
    title
}
</code></pre>
<p>then a resolver will be called for the <code>books</code> field, and when that
resolver returns an object, resolvers for the <code>author</code> and <code>title</code>
fields will be run. SPARQLess resolvers effectively translate
each field query into a SPARQL query if the queried field contains
a non-scalar value. Scalar values are fetched with the parent object's
query.</p>
<p>Execution of this example query would look like this:</p>
<p><img alt="Querying sequence diagram" src="../img/querying_diagram.png"/></p>
<h2 id="components">Components</h2>
<p>The following is a list of components you can see in the diagrams above,
with more detailed descriptions of what they do and how they do it:</p>
<ul>
<li><a href="../observation/">Observation</a></li>
<li><a href="../model_parsing/">Model Parsing</a></li>
<li><a href="../postprocessing/">Postprocessing</a></li>
<li><a href="../schema/">Schema Creation</a></li>
<li><a href="../querying/">Querying</a></li>
<li><a href="../model_checkpointing/">Model Checkpointing</a></li>
<li><a href="../hot_reloading/">Hot Reloading</a></li>
</ul>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../configuration/" title="Configuration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../observation/" title="Observation">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span>
<a class="fa fa-github" href="https://github.com/mff-uk/sparqless" style="color: #fcfcfc"> GitHub</a>
</span>
<span><a href="../configuration/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../observation/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script>var base_url = '..';</script>
<script defer="" src="../js/theme_extra.js"></script>
<script defer="" src="../js/theme.js"></script>
<script defer="">
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>
</body>
</html>
